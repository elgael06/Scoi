let e=0;const n=e=>({create:n=>d(e,n),dismiss:(n,t,i)=>m(document,n,t,e,i),getTop:async()=>l(document,e)}),t=n("ion-alert"),i=n("ion-action-sheet"),o=n("ion-loading"),s=n("ion-modal"),a=n("ion-picker"),r=n("ion-popover"),c=n("ion-toast");function d(n,t){const i=document,o=i.createElement(n);!function(n){0===e&&(e=1,n.addEventListener("focusin",e=>{const t=l(n);if(t&&t.backdropDismiss&&!function(e,n){for(;n;){if(n===e)return!0;n=n.parentElement}return!1}(t,e.target)){const e=t.querySelector("input,button");e&&e.focus()}}),n.addEventListener("ionBackButton",e=>{const t=l(n);t&&t.backdropDismiss&&e.detail.register(100,()=>t.dismiss(void 0,h))}),n.addEventListener("keyup",e=>{if("Escape"===e.key){const e=l(n);e&&e.backdropDismiss&&e.dismiss(void 0,h)}}))}(i),Object.assign(o,t),o.classList.add("overlay-hidden");const s=e++;return o.overlayIndex=s,o.hasAttribute("id")||(o.id=`ion-overlay-${s}`),p(i).appendChild(o),o.componentOnReady()}function m(e,n,t,i,o){const s=l(e,i,o);return s?s.dismiss(n,t):Promise.reject("overlay does not exist")}function l(e,n,t){const i=function(e,n){const t=Array.from(p(e).children).filter(e=>e.overlayIndex>0);return void 0===n?t:(n=n.toUpperCase(),t.filter(e=>e.tagName===n))}(e,n);return void 0===t?i[i.length-1]:i.find(e=>e.id===t)}async function u(e,n,t,i,o){if(e.presented)return;e.presented=!0,e.willPresent.emit();const s=e.enterAnimation?e.enterAnimation:e.config.get(n,"ios"===e.mode?t:i);await v(e,s,e.el,o)&&e.didPresent.emit()}async function f(e,n,t,i,o,s,a){if(!e.presented)return!1;e.presented=!1;try{e.willDismiss.emit({data:n,role:t});const r=e.leaveAnimation?e.leaveAnimation:e.config.get(i,"ios"===e.mode?o:s);await v(e,r,e.el,a),e.didDismiss.emit({data:n,role:t})}catch(e){console.error(e)}return e.el.remove(),!0}function p(e){return e.querySelector("ion-app")||e.body}async function v(e,n,t,i){if(e.animation)return e.animation.destroy(),e.animation=void 0,!1;t.classList.remove("overlay-hidden");const o=t.shadowRoot||e.el,s=await __sc_import_ionic("./p-8ec7f6e0.js").then(e=>e.create(n,o,i));e.animation=s,e.animated&&e.config.getBoolean("animated",!0)||s.duration(0),e.keyboardClose&&s.beforeAddWrite(()=>{const e=t.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()}),await s.playAsync();const a=s.hasCompleted;return s.destroy(),e.animation=void 0,a}function y(e,n){let t;const i=new Promise(e=>t=e);return function(e,n){const i=o=>{e.removeEventListener(n,i),(e=>{t(e.detail)})(o)};e.addEventListener(n,i)}(e,n),i}function g(e){return"cancel"===e||e===h}const h="backdrop";export{h as B,t as a,i as b,r as c,u as d,f as e,y as f,d as g,m as h,g as i,l as j,o as l,s as m,a as p,c as t};